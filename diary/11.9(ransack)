今日は掲示板検索機能のgem ransackの実装

今回はNotionの方に記述を多めにしたので、こちらは少し少なめに日記がてら書いていく

こちらはgem ransackを実装後、kaminari同様少しコントローラーをいじって
追加された機能をインスタンスに追記して使えるようにしつつ
ビューファイルの検索機能を整理していく形だった

ただ、このgemはシンプル機能とアドバンス機能があって、
今回搭載したのはシンプルなワード検索をしていく機能の実装のみ

アドバンスにするとより色々なやり方ができるらしいけど、今回の課題はシンプルのみで良いみたい
この実装方法は他のgemと異なり、githubへの記述じゃなくて専用のページ用意していて
そちらを読みながら実装してね、というスタイルだったのが新しく感じた

当然英語メインだったのでDeepLを使い習ったが、やはりちょっと分かりづらい・・・
例によって先人の方のQiitaを見つつ実装
このgem用のヘルパーメソッドによってなのか、パーシャルファイルで使う時のフォームメソッドのurlの書き方に
[url: url]というやり方ができる状態になっていたのが面白かった

通常はpathを指定してあげないといけないが、こちらでurlと記述しておく事で、
呼び出し先のrenderにurl: 〇〇_pathと追記してあげれば
それを認識してパーシャルファイル内のurlがそのpathに置き換わって認識されるという仕様

これによって使い回しの効く汎用性の高いパーシャルファイルの実装が叶う、というやり方らしい
検索機能もまた奥が深そう・・・アドバンス実装時は相当エラーと戦う事になりそうなので、知りたい半分怖い半分といった所

ただそういう高性能なものは見合った本体部分がなければ不必要なので、必要に迫られた時にまた調べようと思う

